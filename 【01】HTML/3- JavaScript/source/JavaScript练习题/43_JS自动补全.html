<!DOCTYPE HTML>
<html>
   <head>
      <meta charset = "utf-8">
      <title>JS自动补齐功能</title>
      <style>
        * { 
           box-sizing: border-box; 
        }
        #container{
          position:relative;
          top:50px;
          left:30%;
        }
        form{
          padding:6px;
          position:absolute;
          top:200px;
          left:50px;
        }
        #search{
          border: 1px solid transparent;
          background-color: #f1f1f1;
          padding: 10px;
          font-size: 16px;
        }
        button{
          background-color: DodgerBlue;
          color: #fff;
          width:60px;
          height:40px;
          padding:10px;
        }
        .listclass {
          position: absolute;
          border: 1px solid #d4d4d4;
          border-bottom: none;
          border-top: none;
          z-index: 99;

          top: 100%;
          left: 0;
          right: 0;
        }
        .listclass div {
          padding: 10px;
          cursor: pointer;
          background-color: #fff;
          border-bottom: 1px solid #d4d4d4;
        }
        .listclass div:hover {
          background-color: #e9e9e9;
        }
        .listactive {
          background-color: DodgerBlue !important;
          color: #ffffff;
        }
      </style>
   </head>
   <body>
     <div id="container">
     <form autocomplete="off" action="https://www.baidu.com/s?"  id>
        <div  >
          <input id="search" name="search" placeholder="输入国家或者地区的英文名">
          <button type="submit" >提交</button>
        </div>
     </form>
     </div>
     <script>
        //筛选函数
        function search(arr){
          //将数据传入，预处理一下
          var currentFocus;//用来计算输入几个
          var inp=document.getElementById("search");
          //当输入时，开始筛选,注册一个输入
          inp.addEventListener("input",function(event){
            var a,b,i,val=this.value;
            //当失去焦点后关闭下拉列表
            closeAll();
            if(!val){return false;}
            currentFocus=-1;
            //把数据例表搞出来
            a=document.createElement("div");
            a.setAttribute("id",this.id+"list");
            a.setAttribute("class","listclass");
            //添加这个div
            inp.parentNode.appendChild(a);
            //开始循环匹配数据
            for(i=0;i<arr.length;i++){
              //这个只能顺序匹配，匹配第一个后第二个有效继续，无效为空，
              if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
                b = document.createElement("div");
                b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
                b.innerHTML += arr[i].substr(val.length);
                b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
                b.addEventListener("click", function(e) {
                  inp.value = this.getElementsByTagName("input")[0].value;
                  console.log(this)
                  closeAll();
                });
                a.appendChild(b);
              }
            }
          });
        //按键按下时将数据放到输入框
        inp.addEventListener("keydown", function(e) {
          var x = document.getElementById(this.id + "list");
          if (x) x = x.getElementsByTagName("div");
          if (e.keyCode == 40) {
            currentFocus++;
            addActive(x);
          } else if (e.keyCode == 38) {
              currentFocus--;
              addActive(x);
          } else if (e.keyCode == 13) {
              e.preventDefault();
              if (currentFocus > -1) {
                if (x) x[currentFocus].click();
              }
          }
        });
        function addActive(x) {
          if (!x) return false;
          removeActive(x);
          if (currentFocus >= x.length) currentFocus = 0;
          if (currentFocus < 0) currentFocus = (x.length - 1);
          x[currentFocus].classList.add("listactive");
        }
        //输入框删除已经输入的字符，往后匹配
        function removeActive(x) {
          for (var i = 0; i < x.length; i++) {
            x[i].classList.remove("listactive");
          }
        }
        //失去焦点就关闭列表
        function closeAll(elmnt) {
          //全部删去
          var x = document.getElementsByClassName("listclass");
          for (var i = 0; i < x.length; i++) {
            if (elmnt != x[i] && elmnt != inp) {
              x[i].parentNode.removeChild(x[i]);
            }
          }
        }
        //点击列表外也删除
        document.addEventListener("click", function (e) {
            closeAll(e.target);
          });
        }

        //数据
        var countries = [
          "Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua",
          "Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain",
          "Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","BosniaHerzegovina",
          "Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","BurkinaFaso","Burundi","Cambodia","Cameroon",
          "Canada","Cape Verde","Cayman Islands","Central ArfricanRepublic","Chad","Chile","China","Colombia","Congo",
          "Cook Islands","Costa Rica","Cote DIvoire","Croatia","Cuba","Curacao","Cyprus","CzechRepublic","Denmark",
          "Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","ElSalvador","Equatorial Guinea","Eritrea",
          "Estonia","Ethiopia","Falkland Islands","FaroeIslands","Fiji","Finland","France","French Polynesia",
          "French WestIndies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada",
          "Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong KongChina",
          "Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle ofMan","Israel","Italy","Jamaica",
          "Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia",
          "Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","MacauChina","Macedonia",
          "Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","MarshallIslands","Mauritania","Mauritius",
          "Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar",
          "Namibia","Nauro","Nepal","Netherlands","NetherlandsAntilles","New Caledonia","New Zealand","Nicaragua",
          "Niger","Nigeria","NorthKorea","Norway","Oman","Pakistan","Palau","Palestine","Panama","Papua NewGuinea"
        ];
        /*运行一下函数*/
        search(countries);
     </script>
   </body>
</html>