<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>全选练习</title>
	<script>
		//由于每块都要获取四个checkbox输入框，故放在外层，返回的是伪数组
		var items = document.getElementsByName("items");

		window.onload = function(){
			//----------------------获取全选按钮----------------------
			var checkAllBtn = document.getElementById("checkAllBtn");
			checkAllBtn.onclick = function(){
				for(var i = 0; i < items.length; i++){
					//设置多选框为选中状态
					items[i].checked = true;
				}
				//最上面的全选/全不选框也要同步
				checkAllBox.checked = true;
			};
			//---------------------获取全不选按钮---------------------
			var checkNoBtn = document.getElementById("checkNoBtn");
			checkNoBtn.onclick = function(){
				for(var i = 0; i < items.length; i++){
					//设置多选框为非选中状态
					items[i].checked = false;
				}
				checkAllBox.checked = false;
			};
			//----------------------获取反选按钮---------------------
			var checkRevBtn = document.getElementById("checkRevBtn");
			checkRevBtn.onclick = function(){
				//先直接将checkAllBox设置为选中状态
				checkAllBox.checked = true;

				for(var i = 0; i < items.length; i++){
					//判断多选框状态，直接取反
					items[i].checked = !items[i].checked;
					/************************************
					在反选时也需要判断四个多选框是否全都选中
					只要有一个没选中就不是全选
					*************************************/
					if(items[i].checked == false){
						checkAllBox.checked = false;
					}	
				};
			};
			//----------------------获取提交按钮---------------------
			var sendBtn = document.getElementById("sendBtn");
			sendBtn.onclick = function(){
				for(var i = 0; i < items.length; i++){
						if(items[i].checked){
							//输出value值
							alert(items[i].value);
						}
					};
				};
			//----------------------获取全选多选框---------------------
			var checkAllBox = document.getElementById("checkAllBox");
			checkAllBox.onclick = function(){
				//在事件的响应函数中，响应函数是给谁绑定的，this就指向谁
				//alert(this === checkAllBox);
				for(var i = 0; i < items.length; i++){
					//items[i].checked = checkAllBox.checked;
					items[i].checked = this.checked;
				}
			};

			/*****************************************
			若四个多选框全选中，则checkAllBox也应该选中
			若四个多选框没全选中，则checkAllBox不应该选中
			*******************************************/
			//为四个多选框分别设置响应函数
			for(var i = 0;i < items.length; i++){
				items[i].onclick = function(){
					//先直接将checkAllBox设置为选中状态
					checkAllBox.checked = true;
					for(var j = 0; j < items.length; j++){
						//判断四个多选框是否全选，只要有一个没选中就不是全选
						if(items[j].checked == false){
							//将checkAllBox设置为没选中状态
							checkAllBox.checked = false;
							//一旦得出结果直接退出循环
							break;
						}	
					}
				};
			};
		};
	</script>
</head>
<body>
	<form action="" method="post">
		<p>
			你爱好的运动是？
			<input type="checkbox" id="checkAllBox" value=""/>全选/全不选
		</p>
		<input type="checkbox" name="items" value="足球"/>足球
		<input type="checkbox" name="items" value="篮球"/>篮球
		<input type="checkbox" name="items" value="羽毛球"/>羽毛球
		<input type="checkbox" name="items" value="乒乓球"/>乒乓球
		<br>
		<br>
		<input type="button" id='checkAllBtn' value="全选"/>
		<input type="button" id='checkNoBtn' value="全不选"/>
		<input type="button" id='checkRevBtn' value="反选"/>
		<input type="button" id='sendBtn' value="提交"/>
		<br>
	</form>
</body>
</html>