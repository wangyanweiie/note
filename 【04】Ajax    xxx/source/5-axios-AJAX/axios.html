<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>axios 发送 AJAX请求</title>
    <script crossorigin="anonymous" src="https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js"></script>
</head>
<body>
    <button>GET</button>
    <button>POST</button>
    <button>AJAX</button>
    <!-- 文档地址：https://github.com/axios/axios -->
    <script>   
        const btnS = document.querySelectorAll('button');   //查询页面中的button
        axios.defaults.baseURL = 'http://127.0.0.1:8000';   //配置 baseURL 路径

        //完整url路径: 'http://127.0.0.1:8000/axios-server'
        //完整url路径 = BaseURL + '/axios-server'
        
        //单击响应事件：GET/POST/AJAX请求
        btnS[0].onclick = function () {
            axios.get('/axios-server', {
                params: {id: 100,vip: 7},           //url参数
                headers: {name: 'agg',age: 20}      //请求头信息
            }).then(res => {
                console.log(res);
            });
        }

        btnS[1].onclick = function () {
            //第二个参数如果是对象会被直接当作请求体,注意参数放的位置结构：(URl,请求体,其他配置)
            axios.post('/axios-server', {
                username: 'admin',                    //请求体
                password: 'admin'
            }, 
            {
                params: {id: 200,vip: 9},             //url参数
                headers: {height: 180,weight: 140,}   //请求头参数
            });
        }
    
        btnS[2].onclick = function(){
            axios({

                method : 'POST',                //请求方法       
                url: '/axios-server',           //url路径
                params: {vip:10,level:30},      //url参数
                headers: {a:100,b:200},         //请求头参数
                data: {                         //请求体参数
                    username: 'admin',
                    password: 'admin'
                }
            }).then(response=>{
                console.log(response.status);       //响应状态码
                console.log(response.statusText);   //响应状态字符串
                console.log(response.headers);      //响应头信息
                console.log(response.data);         //响应体
            })
        }
    </script>
</body>

</html>