<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Vue.set</title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
	<!-- Vue.set(vue内部的响应式方法) -->
	<!----------------------------------------
	1.语法:  
		* Vue.set(target,'key'/index,value)
		* this.$set(target,'key'/index,value)
	2.方法的参数值: (修改对象,键名/索引,新键值)
	3.作用: 向响应式对象中添加一个property,并确保新property是响应式的,且触发视图更新;
		它必须用于向响应式对象上添加新property,因为Vue无法探测普通的新增property;
	4.注意: 添加对象不能是Vue实例或者Vue实例的根数据对象data;
	------------------------------------------------------>
		<div id="root">
			<h2>学校信息</h2>
			<h4>学校名称：{{school.name}}</h4>
			<h4>学校地址：{{school.address}}</h4>
			<h4>校长是：{{school.leader}}</h4>		<!--控制台命令: Vue.set(vm.school,"leader",'July')-->
			<hr/>
			<h2>学生信息</h2>
			<button @click="addSex">添加性别属性</button>
			<h4>姓名：{{student.name}}</h4>
			<h4 v-if="student.sex">性别：{{student.sex}}</h4>
			<h4>年龄：{{student.age}} </h4>
			<h4>朋友们</h4>
			<ul>
				<li v-for="(item,index) in student.friends" :key="index">
					{{item.name}}--{{item.age}}
				</li>
			</ul>
		</div>
	</body>

	<script type="text/javascript">
		Vue.config.productionTip = false
		//声明vue实例
		const vm = new Vue({
			el:'#root',
			data:{
				school:{
					name:'尚硅谷',
					address:'北京',
				},
				student:{
					name:'tom',
					age:25,
					friends:[{name:'jerry',age:35},{name:'tony',age:36}]
				}
			},
			methods: {
				addSex(){
					Vue.set(this.student,'sex','男')			//Vue.set方法
					//this.$set(this.student,'sex','男')	//this.$set方法
				}
			}
		})
	</script>
</html>