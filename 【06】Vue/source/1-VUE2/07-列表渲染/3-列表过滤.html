<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>列表过滤</title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<div id="root">
			<h4>人员列表</h4>
			<input type="text" placeholder="请输入名字" v-model="keyWord">	<!--v-model拿到用户的输入-->
			<ul>
				<li v-for="(item,index) of filPersons" :key="item.id">
					{{item.name}}-{{item.age}}-{{item.sex}}
				</li>
			</ul>
		</div>

		<script type="text/javascript">
			Vue.config.productionTip = false
			//声明vue实例
			new Vue({
				el:'#root',
				data:{
					keyWord:'',
					persons:[
						{id:'001',name:'马冬梅',age:19,sex:'女'},
						{id:'002',name:'周冬雨',age:20,sex:'女'},
						{id:'003',name:'周杰伦',age:21,sex:'男'},
						{id:'004',name:'温兆伦',age:22,sex:'男'}
					],
					//filPersons:[]		//watch实现需要使用
				},
				//******************用watch实现******************
				//实时监视用户输入的变化(即keyWord的值)
				/*watch:{
					keyWord:{							//String.indexOf('') === 0
						immediate:true,			//初始化时就调用一次handler,匹配空串原数组全显示;
						handler(value){			//value即keyword
							this.filPersons = this.persons.filter((item)=>{
								return item.name.indexOf(value) !== -1
							})
						}
					}
				},*/
				//******************用computed实现******************
				computed:{
					filPersons(){
						return this.persons.filter((item => item.name.indexOf(this.keyWord) !== -1))
					}
				}
			}) 
		</script>
	</body>
</html>