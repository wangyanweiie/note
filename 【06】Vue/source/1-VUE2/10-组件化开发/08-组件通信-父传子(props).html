<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<!-- 父子组件通信 -->
<!-----------------------------------------------------------------
1、理解：在开发中,往往一些数据确实需要从上层传递到下层：比如在一个页面中,我们从服务器请求到数据;
  其中一部分数据,并非是整个页面的大组件来展示的,而是需要下面的子组件进行展示;
  此时并不会让子组件再次发送一个网络请求,而是直接让大组件(父组件)将数据传递给小组件(子组件);
2、如何通信？
  * 父组件通过props向子组件传递数据
  * 子组件通过事件向父组件发送消息

3、父组件向子组件传递数据
（1）props的值有两种方式：
  * 字符串数组,数组中的字符串元素就是传递的变量名称;
  * 对象,对象可以验证传递时的类型、设置默认值以及必须值等;

（2）流程：
  * 在子组件中创建 props:{}属性,属性值的类型是对应的父组件data中存有数据的变量;
  * 其次在子组件标签中使用 v-bind:将父组件存放数据的变量动态绑定到子组件 props中的属性;
  * 子组件即可获取到父组件的变量值(存放的数据)

（3）props值为对象时,验证都支持哪些数据类型呢？
  * String/Number/Boolean/Array/Object/Date/Function/Symbol
  * 当我们有自定义构造函数时,验证也支持自定义的类型;
--------------------------------------------------------------------->

<div id="app">
  <!-- 将父组件中的数据传到子组件中：要通过v-bind绑定,如果没有会被当作字符串赋值给子组件props属性中的元素 -->
  <cpn v-bind:movie="movieS" v-bind:message="messageS"></cpn>
  <!--当设置messages的默认值时,不传则显示message默认值; 设置成必传值时,不传则报错缺失message值-->
  <!-- <cpn :movie="movieS"></cpn> -->      
</div> 
<!--子组件模板-->
<template id="cpn">
  <div>
    <h5>{{message}}</h5>
    <ul>
      <!-- 在子组件中通过for循环遍历显示 -->
      <li v-for="item in movie">{{item}}</li>
    </ul>
  </div>
</template>

<script src="../Js/vue.js"></script>
<script>
  //子组件
  const cpn = {
    template: '#cpn',
    //方式1：字符串数组
    //props:['movie','message'],

    //方式2：对象:可以进行类型限制以及设置默认值、必传值
    props: {
      message: {
        type: String,     //type：类型限制;   
        default:'哈哈',   //default：设置没有传该参数时显示的默认值;
        required: true    //required：设置成必须传的值,如果不传能显示,但会提示报错;
      },
      movie: {
        type: Array,
        default(){        //default(){}：当类型是对象/数组时,默认值必须是一个函数返回一个对象/数组;
          return [] 
        },
        required: true
      }
    }
    //组件中也可以有data与methods等属性
  };

  //声明vue实例对象（父组件）
  const app = new Vue({
    el: '#app',
    data: {
      //在vue实例的data中存放数据,组件不能直接使用;
      messageS: '你好阿',
      movieS: ['海王','海贼王','海尔兄弟']
    },
    components: {
      //cpn:cpn的对象字面量增强写法
      cpn   
    }
  });
</script>

</body>
</html>