<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<!---------------------------------------------------------
编程范式: 命令式编程/声明式编程
编程范式: 面向对象编程(第一公民:对象)/函数式编程(第一公民:函数)

高阶函数：filter/map/reduce
1、filter
（1）语法：对象名.filter(function(item,index,arr){..})
（2）回调函数作为参数遍历对象：要求必须return一个boolean值
      * true: 当返回true时, 函数内部会自动将这次回调的n加入到新的数组中
      * false: 当返回false时, 函数内部会过滤掉这次的n
（3）作用：可以对数组中的元素进行过滤

2、map
（1）语法：对象名.map((function(item,index,arr){..}))
（2）回调函数作为参数遍历对象
（3）作用：可以对数组中所有元素作修改,return修改后的值

3、reduce
（1）语法：对象名.reduce(function(prevValue,item){..}, 0)
（2）回调函数作为参数1遍历对象,初始值作为参数2;
（3）作用：可以对数组中所有的内容进行汇总
------------------------------------------------------------------>
<script>
const numS = [10, 20, 111, 222, 444, 40, 50]

/************传统思想**********
//需求1:取出所有小于100的数字
let newNumS = []
for (let n of numS) {
  if (n < 100) {
    newNumS.push(n)
  }
}
//需求2:将所有小于100的数字全部*2
let new2NumS = []
for (let n of newNumS) {
  new2NumS.push(n * 2)
}
console.log(new2NumS);
//需求3:将所有new2NumS数字相加
for (let n of new2NumS) {
  total += n
}
console.log(total);
*/
/***************高阶函数*************
//filter：需求1
let newNumS = numS.filter(function (n) {
  return n < 100
})
console.log(newNumS);
//map：需求2
let new2NumS = newNumS.map(function (n) {
  return n * 2
})
console.log(new2NumS);
//reduce：需求3
let total = new2NumS.reduce(function (preValue, n) {
  return preValue + n
},0)
console.log(total);
*/
/*
第一次: preValue 0     n 20
第二次: preValue 20    n 40
第三次: preValue 60    n 80
第四次: preValue 140   n 100
total == 240
*/
//**********汇总写法：三个需求**********
let total = numS.filter(function (n) {
  return n < 100
}).map(function (n) {
  return n * 2
}).reduce(function (prevValue, n) {
  return prevValue + n
}, 0)
console.log(total);

//*************箭头函数写法*************
/*let total = numS.filter(n => n < 100).map(n => n * 2).reduce((pre,n) => pre + n);
console.log(total);*/

</script>
</body>
</html>