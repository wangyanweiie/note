<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>正则扩展</title>
</head>

<body>
    <!--正则-->
    <!-----------------------------------------------------------
    1、命名捕获组
    （1）理解：ES9允许命名捕获组使用符号 ?<name> ,使捕获结果可读性更强
    （2）语法：?<别名>

    2、正则断言
    （1）正向断言
        * ?=n   匹配任何其后 紧接指定字符串n的字符串
        * ?!n   匹配任何其后 没有紧接指定字符串n的字符串
    （2）反向断言
        * ?<=n  匹配任何其前 紧接指定字符串n的字符串

    （3）dotAll模式
        理解：正则表达式中点.匹配除回车外的任何单字符,标记s改变这种行为,允许行终止符出现;
        语法：/ /s （s是模式修正符,加了s后 . 能匹配任意字符）
    ------------------------------------------------------------------------------>

    
    <script>
        
        //**********需求：直接创建正则表达式,提取url与文本**********
        //声明一个字符串
        /*let str = '<a href="http://www.atguigu.com">尚硅谷</a>';
        const reg = /<a href="(.*)">(.*)<\/a>/;
        //执行
        const result = reg.exec(str);
        console.log(result);
        console.log(result[1]);
        console.log(result[2]);
        */
        /*
        let str = '<a href="http://www.atguigu.com">尚硅谷</a>';
        //用 ?<name>给url与文本的分组命名
        const reg = /<a href="(?<url>.*)">(?<text>.*)<\/a>/;
        const result = reg.exec(str);
        console.log(result);
        console.log(result.groups.url);
        console.log(result.groups.text);
        */
        //*******************正则断言*******************
        /*
        //声明字符串
        let str = 'JS5211314你知道么555啦啦啦';
        //正向断言
        const reg = /\d+(?=啦)/;
        const result = reg.exec(str);
        //反向断言
        const reg = /(?<=么)\d+/;
        const result = reg.exec(str);
        console.log(result);
        */
        //******************dotAll模式******************
        let str = `
        <ul>
            <li>
                <a>肖申克的救赎</a>
                <p>上映日期: 1994-09-10</p>
            </li>
            <li>
                <a>阿甘正传</a>
                <p>上映日期: 1994-07-06</p>
            </li>
        </ul>`;
        //声明正则
        //const reg = /<li>\s+<a>(.*?)<\/a>\s+<p>(.*?)<\/p>/;
        //模式修正符：s 点能匹配任意字符, g 全局匹配
        const reg = /<li>.*?<a>(.*?)<\/a>.*?<p>(.*?)<\/p>/gs;
        //执行匹配
        //const result = reg.exec(str);
        let result;
        let data = [];
        while(result = reg.exec(str)){
            //console.log(result);
            data.push({title: result[1], time: result[2]});
        }
        //输出结果
        console.log(data);

    </script>
</body>

</html>