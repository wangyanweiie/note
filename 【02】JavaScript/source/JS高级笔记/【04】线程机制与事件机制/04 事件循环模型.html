<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>事件循环模型</title>
</head>
<body>
<button id="btn">测试</button>
<!-- 事件循环模型 -->
<!----------------------------------------------
1、代码分类
（1）初始化执行代码(同步代码):
    * 设置定时器
    * 绑定 dom事件监听
    * 发送 ajax请求的代码
（2）回调执行代码(异步代码): 处理回调逻辑
2、JS引擎执行代码的基本流程：初始化代码 ==>回调代码
3、组成部分:
（1）事件管理模块
    * 定时器管理模块
    * DOM事件管理模块
    * Ajax请求管理模块
（2）回调队列

4、循环模型运转流程
  * 执行初始化代码, 将事件回调函数交给对应模块管理;
  * 当事件发生时, 管理模块会将对应的回调函数及其数据添加到回调列队中;
  * 只有当初始化代码执行完后(可能要一定时间), 才会遍历读取回调队列中的回调函数执行;

5、相关概念
（1）执行栈：所有的代码都在此空间内执行;
（2）浏览器内核：JS引擎在主线程处理,其它在主/分线程处理;
（3）回调队列：任务队列/消息队列/事件队列都是同一个队列;
（4）事件轮询：从回调队列中循环依次取出回调函数放入执行栈中处理;
（5）事件驱动模型
（6）请求响应模型
------------------------------------------------------------------------------>
<script type="text/javascript">
  function fn1() {
    console.log('fn1()')
  }
  fn1()
  document.getElementById('btn').onclick = function () {
    console.log('点击了btn')
  }
  setTimeout(function () {
    console.log('定时器执行了')
  }, 2000)
  function fn2() {
    console.log('fn2()')
  }
  fn2()
</script>
</body>
</html>